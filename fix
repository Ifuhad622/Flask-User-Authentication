#!/usr/bin/python3
import os

def fix_import_error():
    try:
        # Specify the path to the utils.py file in the flask_login package
        utils_path = '/usr/local/lib/python3.8/dist-packages/flask_login/utils.py'
        
        # Read the contents of the utils.py file
        with open(utils_path, 'r') as file:
            lines = file.readlines()

        # Check each line for the incorrect import statement
        for i, line in enumerate(lines):
            if 'from werkzeug.urls import url_decode' in line:
                # Replace the incorrect import statement with the correct one
                lines[i] = 'from werkzeug.utils import url_decode\n'

        # Write the modified contents back to the utils.py file
        with open(utils_path, 'w') as file:
            file.writelines(lines)

        print("Import error fixed successfully.")
    except Exception as e:
        print("Failed to fix import error:", e)

if __name__ == "__main__":
    fix_import_error()

